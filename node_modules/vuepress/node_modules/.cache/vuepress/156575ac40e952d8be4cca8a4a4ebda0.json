{"remainingRequest":"/Users/luisguilherme/Documents/Desenvolvimento/vuepress-netlify-cms/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/luisguilherme/Documents/Desenvolvimento/vuepress-netlify-cms/node_modules/vuepress/lib/default-theme/util.js","dependencies":[{"path":"/Users/luisguilherme/Documents/Desenvolvimento/vuepress-netlify-cms/node_modules/vuepress/lib/default-theme/util.js","mtime":1525295983000},{"path":"/Users/luisguilherme/Documents/Desenvolvimento/vuepress-netlify-cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luisguilherme/Documents/Desenvolvimento/vuepress-netlify-cms/node_modules/babel-loader/lib/index.js","mtime":1530808242000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.outboundRE = exports.endingSlashRE = exports.extRE = exports.hashRE = undefined;\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nexports.normalize = normalize;\nexports.getHash = getHash;\nexports.isExternal = isExternal;\nexports.isMailto = isMailto;\nexports.isTel = isTel;\nexports.ensureExt = ensureExt;\nexports.isActive = isActive;\nexports.resolvePage = resolvePage;\nexports.resolveSidebarItems = resolveSidebarItems;\nexports.groupHeaders = groupHeaders;\nexports.resolveNavLinkItem = resolveNavLinkItem;\nexports.resolveMatchingConfig = resolveMatchingConfig;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hashRE = exports.hashRE = /#.*$/;\nvar extRE = exports.extRE = /\\.(md|html)$/;\nvar endingSlashRE = exports.endingSlashRE = /\\/$/;\nvar outboundRE = exports.outboundRE = /^(https?:|mailto:|tel:)/;\n\nfunction normalize(path) {\n  return path.replace(hashRE, '').replace(extRE, '');\n}\n\nfunction getHash(path) {\n  var match = path.match(hashRE);\n  if (match) {\n    return match[0];\n  }\n}\n\nfunction isExternal(path) {\n  return outboundRE.test(path);\n}\n\nfunction isMailto(path) {\n  return (/^mailto:/.test(path)\n  );\n}\n\nfunction isTel(path) {\n  return (/^tel:/.test(path)\n  );\n}\n\nfunction ensureExt(path) {\n  if (isExternal(path)) {\n    return path;\n  }\n  var hashMatch = path.match(hashRE);\n  var hash = hashMatch ? hashMatch[0] : '';\n  var normalized = normalize(path);\n\n  if (endingSlashRE.test(normalized)) {\n    return path;\n  }\n  return normalized + '.html' + hash;\n}\n\nfunction isActive(route, path) {\n  var routeHash = route.hash;\n  var linkHash = getHash(path);\n  if (linkHash && routeHash !== linkHash) {\n    return false;\n  }\n  var routePath = normalize(route.path);\n  var pagePath = normalize(path);\n  return routePath === pagePath;\n}\n\nfunction resolvePage(pages, rawPath, base) {\n  if (base) {\n    rawPath = resolvePath(rawPath, base);\n  }\n  var path = normalize(rawPath);\n  for (var i = 0; i < pages.length; i++) {\n    if (normalize(pages[i].path) === path) {\n      return (0, _assign2.default)({}, pages[i], {\n        type: 'page',\n        path: ensureExt(rawPath)\n      });\n    }\n  }\n  console.error('[vuepress] No matching page found for sidebar item \"' + rawPath + '\"');\n  return {};\n}\n\nfunction resolvePath(relative, base, append) {\n  var firstChar = relative.charAt(0);\n  if (firstChar === '/') {\n    return relative;\n  }\n\n  if (firstChar === '?' || firstChar === '#') {\n    return base + relative;\n  }\n\n  var stack = base.split('/');\n\n  // remove trailing segment if:\n  // - not appending\n  // - appending to trailing slash (last segment is empty)\n  if (!append || !stack[stack.length - 1]) {\n    stack.pop();\n  }\n\n  // resolve relative path\n  var segments = relative.replace(/^\\//, '').split('/');\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    if (segment === '..') {\n      stack.pop();\n    } else if (segment !== '.') {\n      stack.push(segment);\n    }\n  }\n\n  // ensure leading slash\n  if (stack[0] !== '') {\n    stack.unshift('');\n  }\n\n  return stack.join('/');\n}\n\nfunction resolveSidebarItems(page, route, site, localePath) {\n  var pageSidebarConfig = page.frontmatter.sidebar;\n  if (pageSidebarConfig === 'auto') {\n    return resolveHeaders(page);\n  }\n  var pages = site.pages,\n      themeConfig = site.themeConfig;\n\n\n  var localeConfig = localePath && themeConfig.locales ? themeConfig.locales[localePath] || themeConfig : themeConfig;\n\n  var sidebarConfig = localeConfig.sidebar || themeConfig.sidebar;\n  if (!sidebarConfig) {\n    return [];\n  } else {\n    var _resolveMatchingConfi = resolveMatchingConfig(route, sidebarConfig),\n        base = _resolveMatchingConfi.base,\n        config = _resolveMatchingConfi.config;\n\n    return config ? config.map(function (item) {\n      return resolveItem(item, pages, base);\n    }) : [];\n  }\n}\n\nfunction resolveHeaders(page) {\n  var headers = groupHeaders(page.headers || []);\n  return [{\n    type: 'group',\n    collapsable: false,\n    title: page.title,\n    children: headers.map(function (h) {\n      return {\n        type: 'auto',\n        title: h.title,\n        basePath: page.path,\n        path: page.path + '#' + h.slug,\n        children: h.children || []\n      };\n    })\n  }];\n}\n\nfunction groupHeaders(headers) {\n  // group h3s under h2\n  headers = headers.map(function (h) {\n    return (0, _assign2.default)({}, h);\n  });\n  var lastH2 = void 0;\n  headers.forEach(function (h) {\n    if (h.level === 2) {\n      lastH2 = h;\n    } else if (lastH2) {\n      (lastH2.children || (lastH2.children = [])).push(h);\n    }\n  });\n  return headers.filter(function (h) {\n    return h.level === 2;\n  });\n}\n\nfunction resolveNavLinkItem(linkItem) {\n  return (0, _assign2.default)(linkItem, {\n    type: linkItem.items && linkItem.items.length ? 'links' : 'link'\n  });\n}\n\nfunction resolveMatchingConfig(route, config) {\n  if (Array.isArray(config)) {\n    return {\n      base: '/',\n      config: config\n    };\n  }\n  for (var base in config) {\n    if (ensureEndingSlash(route.path).indexOf(base) === 0) {\n      return {\n        base: base,\n        config: config[base]\n      };\n    }\n  }\n  return {};\n}\n\nfunction ensureEndingSlash(path) {\n  return (/(\\.html|\\/)$/.test(path) ? path : path + '/'\n  );\n}\n\nfunction resolveItem(item, pages, base, isNested) {\n  if (typeof item === 'string') {\n    return resolvePage(pages, item, base);\n  } else if (Array.isArray(item)) {\n    return (0, _assign2.default)(resolvePage(pages, item[0], base), {\n      title: item[1]\n    });\n  } else {\n    if (isNested) {\n      console.error('[vuepress] Nested sidebar groups are not supported. ' + 'Consider using navbar + categories instead.');\n    }\n    var children = item.children || [];\n    return {\n      type: 'group',\n      title: item.title,\n      children: children.map(function (child) {\n        return resolveItem(child, pages, base, true);\n      }),\n      collapsable: item.collapsable !== false\n    };\n  }\n}",{"version":3,"sources":["node_modules/vuepress/lib/default-theme/util.js"],"names":["normalize","getHash","isExternal","isMailto","isTel","ensureExt","isActive","resolvePage","resolveSidebarItems","groupHeaders","resolveNavLinkItem","resolveMatchingConfig","hashRE","extRE","endingSlashRE","outboundRE","path","replace","match","test","hashMatch","hash","normalized","route","routeHash","linkHash","routePath","pagePath","pages","rawPath","base","resolvePath","i","length","type","console","error","relative","append","firstChar","charAt","stack","split","pop","segments","segment","push","unshift","join","page","site","localePath","pageSidebarConfig","frontmatter","sidebar","resolveHeaders","themeConfig","localeConfig","locales","sidebarConfig","config","map","resolveItem","item","headers","collapsable","title","children","h","basePath","slug","lastH2","forEach","level","filter","linkItem","items","Array","isArray","ensureEndingSlash","indexOf","isNested","child"],"mappings":"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","file":"util.js","sourceRoot":"/Users/luisguilherme/Documents/Desenvolvimento/vuepress-netlify-cms","sourcesContent":["export const hashRE = /#.*$/\nexport const extRE = /\\.(md|html)$/\nexport const endingSlashRE = /\\/$/\nexport const outboundRE = /^(https?:|mailto:|tel:)/\n\nexport function normalize (path) {\n  return path\n    .replace(hashRE, '')\n    .replace(extRE, '')\n}\n\nexport function getHash (path) {\n  const match = path.match(hashRE)\n  if (match) {\n    return match[0]\n  }\n}\n\nexport function isExternal (path) {\n  return outboundRE.test(path)\n}\n\nexport function isMailto (path) {\n  return /^mailto:/.test(path)\n}\n\nexport function isTel (path) {\n  return /^tel:/.test(path)\n}\n\nexport function ensureExt (path) {\n  if (isExternal(path)) {\n    return path\n  }\n  const hashMatch = path.match(hashRE)\n  const hash = hashMatch ? hashMatch[0] : ''\n  const normalized = normalize(path)\n\n  if (endingSlashRE.test(normalized)) {\n    return path\n  }\n  return normalized + '.html' + hash\n}\n\nexport function isActive (route, path) {\n  const routeHash = route.hash\n  const linkHash = getHash(path)\n  if (linkHash && routeHash !== linkHash) {\n    return false\n  }\n  const routePath = normalize(route.path)\n  const pagePath = normalize(path)\n  return routePath === pagePath\n}\n\nexport function resolvePage (pages, rawPath, base) {\n  if (base) {\n    rawPath = resolvePath(rawPath, base)\n  }\n  const path = normalize(rawPath)\n  for (let i = 0; i < pages.length; i++) {\n    if (normalize(pages[i].path) === path) {\n      return Object.assign({}, pages[i], {\n        type: 'page',\n        path: ensureExt(rawPath)\n      })\n    }\n  }\n  console.error(`[vuepress] No matching page found for sidebar item \"${rawPath}\"`)\n  return {}\n}\n\nfunction resolvePath (relative, base, append) {\n  const firstChar = relative.charAt(0)\n  if (firstChar === '/') {\n    return relative\n  }\n\n  if (firstChar === '?' || firstChar === '#') {\n    return base + relative\n  }\n\n  const stack = base.split('/')\n\n  // remove trailing segment if:\n  // - not appending\n  // - appending to trailing slash (last segment is empty)\n  if (!append || !stack[stack.length - 1]) {\n    stack.pop()\n  }\n\n  // resolve relative path\n  const segments = relative.replace(/^\\//, '').split('/')\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i]\n    if (segment === '..') {\n      stack.pop()\n    } else if (segment !== '.') {\n      stack.push(segment)\n    }\n  }\n\n  // ensure leading slash\n  if (stack[0] !== '') {\n    stack.unshift('')\n  }\n\n  return stack.join('/')\n}\n\nexport function resolveSidebarItems (page, route, site, localePath) {\n  const pageSidebarConfig = page.frontmatter.sidebar\n  if (pageSidebarConfig === 'auto') {\n    return resolveHeaders(page)\n  }\n  const { pages, themeConfig } = site\n\n  const localeConfig = localePath && themeConfig.locales\n    ? themeConfig.locales[localePath] || themeConfig\n    : themeConfig\n\n  const sidebarConfig = localeConfig.sidebar || themeConfig.sidebar\n  if (!sidebarConfig) {\n    return []\n  } else {\n    const { base, config } = resolveMatchingConfig(route, sidebarConfig)\n    return config\n      ? config.map(item => resolveItem(item, pages, base))\n      : []\n  }\n}\n\nfunction resolveHeaders (page) {\n  const headers = groupHeaders(page.headers || [])\n  return [{\n    type: 'group',\n    collapsable: false,\n    title: page.title,\n    children: headers.map(h => ({\n      type: 'auto',\n      title: h.title,\n      basePath: page.path,\n      path: page.path + '#' + h.slug,\n      children: h.children || []\n    }))\n  }]\n}\n\nexport function groupHeaders (headers) {\n  // group h3s under h2\n  headers = headers.map(h => Object.assign({}, h))\n  let lastH2\n  headers.forEach(h => {\n    if (h.level === 2) {\n      lastH2 = h\n    } else if (lastH2) {\n      (lastH2.children || (lastH2.children = [])).push(h)\n    }\n  })\n  return headers.filter(h => h.level === 2)\n}\n\nexport function resolveNavLinkItem (linkItem) {\n  return Object.assign(linkItem, {\n    type: linkItem.items && linkItem.items.length ? 'links' : 'link'\n  })\n}\n\nexport function resolveMatchingConfig (route, config) {\n  if (Array.isArray(config)) {\n    return {\n      base: '/',\n      config: config\n    }\n  }\n  for (const base in config) {\n    if (ensureEndingSlash(route.path).indexOf(base) === 0) {\n      return {\n        base,\n        config: config[base]\n      }\n    }\n  }\n  return {}\n}\n\nfunction ensureEndingSlash (path) {\n  return /(\\.html|\\/)$/.test(path)\n    ? path\n    : path + '/'\n}\n\nfunction resolveItem (item, pages, base, isNested) {\n  if (typeof item === 'string') {\n    return resolvePage(pages, item, base)\n  } else if (Array.isArray(item)) {\n    return Object.assign(resolvePage(pages, item[0], base), {\n      title: item[1]\n    })\n  } else {\n    if (isNested) {\n      console.error(\n        '[vuepress] Nested sidebar groups are not supported. ' +\n        'Consider using navbar + categories instead.'\n      )\n    }\n    const children = item.children || []\n    return {\n      type: 'group',\n      title: item.title,\n      children: children.map(child => resolveItem(child, pages, base, true)),\n      collapsable: item.collapsable !== false\n    }\n  }\n}\n"]}]}